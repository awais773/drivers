"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[345],{3345:(e,t,s)=>{s.r(t),s.d(t,{default:()=>a});var r=s(9669),i=s.n(r);const n={data:function(){return{caregiverId:"",clientIds:[],clients:[],caregivers:[],searchTerm:"",successMessage:""}},created:function(){var e=this;i().get("kitchenGet").then((function(t){e.clients=t.data.data})).catch((function(e){console.log(e)})),i().get("riderGet").then((function(t){e.caregivers=t.data.data})).catch((function(e){console.log(e)}))},methods:{assignCaregiver:function(){var e=this;i().post("RiderAssign",{rider_id:this.caregiverId,kitchen_id:this.clientIds}).then((function(t){console.log(t.data),e.successMessage="Assignments made successfully!"})).catch((function(e){console.log(e)}))}},computed:{filteredClients:function(){if(!this.searchTerm)return this.clients;var e=this.searchTerm.toLowerCase();return this.clients.filter((function(t){return t.first_name.toLowerCase().includes(e)}))}}};const a=(0,s(1900).Z)(n,(function(){var e=this,t=e._self._c;return t("div",[e.successMessage?t("div",{staticClass:"alert alert-success"},[e._v("\n        "+e._s(e.successMessage)+"\n    ")]):e._e(),e._v(" "),t("h1",[e._v("Assign Rider to Kitchen")]),e._v(" "),t("form",{on:{submit:function(t){return t.preventDefault(),e.assignCaregiver.apply(null,arguments)}}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-sm"},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"caregiver_id"}},[e._v("Rider:")]),e._v(" "),t("select",{directives:[{name:"model",rawName:"v-model",value:e.caregiverId,expression:"caregiverId"}],staticClass:"form-control",attrs:{id:"caregiver_id",required:""},on:{change:function(t){var s=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.caregiverId=t.target.multiple?s:s[0]}}},e._l(e.caregivers,(function(s){return t("option",{key:s.id,domProps:{value:s.id}},[e._v("\n                            "+e._s(s.first_name)+"\n                        ")])})),0)])]),e._v(" "),t("div",{staticClass:"col-sm",staticStyle:{height:"204px","overflow-x":"scroll"}},[t("div",{staticClass:"form-group"},[t("label",{attrs:{for:"searchTerm"}},[e._v("Search:")]),e._v(" "),t("input",{directives:[{name:"model",rawName:"v-model",value:e.searchTerm,expression:"searchTerm"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:e.searchTerm},on:{input:function(t){t.target.composing||(e.searchTerm=t.target.value)}}}),e._v(" "),e._l(e.filteredClients,(function(s){return t("div",{key:s.id},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.clientIds,expression:"clientIds"}],attrs:{type:"checkbox",id:"client_"+s.id},domProps:{value:s.id,checked:Array.isArray(e.clientIds)?e._i(e.clientIds,s.id)>-1:e.clientIds},on:{change:function(t){var r=e.clientIds,i=t.target,n=!!i.checked;if(Array.isArray(r)){var a=s.id,c=e._i(r,a);i.checked?c<0&&(e.clientIds=r.concat([a])):c>-1&&(e.clientIds=r.slice(0,c).concat(r.slice(c+1)))}else e.clientIds=n}}}),e._v(" "),t("label",{attrs:{for:"client_"+s.id}},[e._v(e._s(s.first_name))])])}))],2)])]),e._v(" "),t("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[e._v("\n            Assign Rider\n        ")])])])}),[],!1,null,null,null).exports}}]);